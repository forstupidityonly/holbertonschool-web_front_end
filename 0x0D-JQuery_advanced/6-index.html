<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>

        <meta charset="utf-8" />
        <title>Task 6</title>

    </head>

    <body>
        <script
            type="application/javascript"
            src="https://code.jquery.com/jquery-3.6.0.slim.min.js"
            integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI="
            crossorigin="anonymous">
        </script>
        <script>
            const createFamilyTree = () => {
                $("body").append("<table>");
                $("table").append("<thead>", "<tbody>");
                $("thead").append("<tr>");
                $("thead tr").append("<th>", "<th>");
                $("th:nth-child(1)").text("Firstname");
                $("th:nth-child(2)").text("Lastname");
            }
            const addNewMember = (firstName, lastName, position) => {
                if (position === 'before') {
                    $("tbody").prepend("<tr>");
                    $("tbody tr").append("<td>", "<td>", "<td>");
                    $("td:nth-child(1)").first().text(firstName);
                    $("td:nth-child(2)").first().text(lastName);
                } else {
                    $("tbody").append("<tr>");
                    $("tbody tr").append("<td>", "<td>", "<td>");
                    $("td:nth-child(1)").last().text(firstName);
                    $("td:nth-child(2)").last().text(lastName);
                }
                $("td:nth-child(3)").text("(x)");
                $("td:nth-child(3)").css("background-color", "orange");
                $("td:nth-child(3)").on("click", function(){
                    $(this).parent().remove();
                })
            }
            const createForm = () => {
                $("table").before("<input type='text'><input type='text'><select><option value='before'>Before</option><option value='after'>After</option><input type='submit'>");
                $("input:last").click(function() {
                    addNewMember($('input:first').val(), $('input:nth-of-type(2)').val(), $("select").val());
                });
            }

            createFamilyTree()
            createForm()
        </script>
    </body>

</html>
